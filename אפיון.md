אתה בונה עבורי מערכת SaaS מלאה בשם **QuickLanding** – פלטפורמה לבניית דפי נחיתה בעברית (RTL) עם עורך בלוקים ויזואלי, תבניות מוכנות, טפסי לידים, וובהוקים, ניהול משתמשים ודשבורד.

=====================
טכנולוגיות ותשתית
=====================
- Next.js 14 (App Router) + TypeScript
- TailwindCSS עם תמיכה RTL (plugin rtl + dir="rtl")
- Shadcn UI לרכיבי UI
- React-Page כעורך בלוקים (drag & drop): @react-page/editor + plugins (slate, image, background)
- Prisma ORM + PostgreSQL
- NextAuth Credentials (אפשרות להרחיב ל-Google OAuth)
- Storage לתמונות: local dev; רינדור תמונות באמצעות <img> (שלב MVP)
- API Routes לניהול דפים, טפסים, וובהוקים
- Zod לאימות סכמה ב-API
- Rate-limiting בסיסי ל-/api/forms (למניעת ספאם)
- i18n: עברית מלאה כברירת מחדל (טקסטים, כפתורים, פלייסהולדרים, ולאפיות RTL)

=====================
מבנה פרויקט (תיקיות)
=====================
- app/
  - (auth)/login/page.tsx
  - (dashboard)/dashboard/page.tsx
  - (dashboard)/pages/new/page.tsx
  - (dashboard)/pages/[id]/edit/page.tsx
  - (public)/p/[slug]/page.tsx
  - api/pages/route.ts
  - api/pages/[id]/route.ts
  - api/forms/route.ts
  - api/webhook/route.ts
  - api/templates/route.ts
- components/
  - Editor/ReactPageEditor.tsx
  - forms/LeadForm.tsx
  - ui/* (shadcn)
- lib/
  - prisma.ts
  - auth.ts
  - rtl.ts
  - rateLimit.ts
- prisma/
  - schema.prisma
  - seed.ts
- styles/
  - globals.css
- middleware.ts
- env.d.ts

=====================
ENV דרוש (.env.example)
=====================
DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DB?schema=public"
NEXTAUTH_SECRET="..."
NEXTAUTH_URL="http://localhost:3000"
# אופציונלי לאימיילים בהמשך:
SMTP_HOST=""
SMTP_PORT=""
SMTP_USER=""
SMTP_PASS=""

=====================
מסד נתונים (Prisma schema)
=====================
צור את המודלים הבאים:

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  pages     Page[]
  createdAt DateTime @default(now())
}

model Page {
  id          String   @id @default(cuid())
  user        User     @relation(fields: [userId], references: [id])
  userId      String
  title       String
  slug        String   @unique
  content     Json     // תוכן React-Page
  webhookUrl  String?
  published   Boolean  @default(false)
  leads       Lead[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Lead {
  id        String   @id @default(cuid())
  page      Page     @relation(fields: [pageId], references: [id])
  pageId    String
  name      String
  phone     String
  email     String?
  message   String?
  createdAt DateTime @default(now())
}

model Template {
  id        String   @id @default(cuid())
  title     String
  slug      String   @unique
  category  String?  // "קליניקה", "נדל״ן", "איקומרס", "קורסים"...
  content   Json     // JSON מוכן של React-Page
  createdAt DateTime @default(now())
}

הרץ: npx prisma migrate dev && npx prisma db seed

=====================
אימות (NextAuth)
=====================
- הוסף CredentialsProvider (email+password) עם hash (bcrypt). ב-MVP אפשר לשמור hash פשוט, אך ממליץ bcrypt.
- הגן על ראוטים של הדשבורד עם middleware.
- צור עמודי login/register בעברית (אפשר בעמוד אחד עם tabs).

=====================
Tailwind + RTL
=====================
- התקן tailwind + postcss + autoprefixer.
- הוסף פלאגין RTL (כמו tailwindcss-rtl) או class-based direction:
  - ב-<html lang="he" dir="rtl">
- הגדר גופן "Noto Sans Hebrew" מ-Google Fonts.
- שים דגש על alignment, margin/padding ב-RTL.

=====================
Shadcn UI
=====================
- הוסף Button, Input, Card, Dialog, Badge, Skeleton, Toast.
- כל הטקסטים בעברית:
  - "דף חדש", "עריכה", "פרסום", "שמור", "לידים", "עיצוב", "הגדרות".

=====================
עורך React-Page
=====================
- קומפוננטה: components/Editor/ReactPageEditor.tsx
- אתחל את העורך עם plugins:
  - slate (טקסט עשיר)
  - image (העלאת URL בשלב ראשון)
  - background (רקעים)
- העבר prop של initialValue (JSON) ו-onChange (JSON).
- הגדר wrapper עם dir="rtl" ו-font-family Noto Sans Hebrew.

=====================
טפסי לידים + וובהוק
=====================
- רכיב LeadForm.tsx עם שדות: שם (חובה), טלפון (חובה), אימייל (אופציונלי), הודעה (אופציונלי).
- שליחת POST אל /api/forms:
  body: { pageId, name, phone, email?, message? }
- בצד שרת:
  1) ולידציה עם Zod
  2) שמירה לטבלת Lead
  3) אם ל-page יש webhookUrl -> שלח fetch POST עם JSON {
        name, phone, email, message, page_id, page_slug, submitted_at
     }
  4) החזר { success: true }
- הוסף rate limiting בסיסי (IP+pageId).

=====================
ניהול דפים (Dashboard)
=====================
- /dashboard: רשימת דפים (כרטיסים: כותרת, מצב פרסום, תאריך עדכון, מספר לידים)
- כפתור "דף חדש" -> /dashboard/pages/new:
  - טופס: שם הדף, slug (אוטו-גנרציה מסטריפ של העברית), בחירת Template (select)
  - יצירה ראשונית של page עם content = template.content
  - מעבר לעריכה

- /dashboard/pages/[id]/edit:
  - טאבים: "תוכן" (העורך), "הגדרות" (title, slug, webhookUrl, published), "לידים" (טבלה)
  - כפתורי "שמור שינויים" + "צפה בדף" + "פרסם/הסר פרסום"

=====================
דף ציבורי
=====================
- /p/[slug]: רנדר תוכן React-Page לקריאה בלבד + LeadForm (אם קיים בלוק טופס או בכל מקרה בתחתית)
- כותרות וכפתורים בעברית, dir="rtl"

=====================
API Routes
=====================
- POST /api/pages:
  - create page למשתמש המחובר
- GET /api/pages:
  - כל הדפים של המשתמש
- GET /api/pages/[id]:
  - דף בודד (וודא שהוא שייך למשתמש)
- PATCH /api/pages/[id]:
  - עדכון title, slug, content(JSON), webhookUrl, published
- DELETE /api/pages/[id]:
  - מחיקה (רק למשתמש בעלים)
- GET /api/templates:
  - החזרת רשימת תבניות (title, slug, category, preview?)
- POST /api/forms:
  - קבלת ליד ושמירה + שליחת webhook אם קיים
- POST /api/webhook:
  - שירות פנימי שעושה forward לכתובת webhookUrl (ניתן גם לדלג ולהשתמש ישירות מה-forms)

=====================
תבניות מוכנות (Seed)
=====================
צור prisma/seed.ts שמכניס Templates עם content JSON של React-Page, לדוגמה:
- "קליניקה" (Hero: כותרת H1 "ברוכים הבאים לקליניקה של ד״ר כהן", תיאור קצר, כפתור "קבע/י תור", מקטע יתרונות, טופס ליד)
- "נדל״ן" (Hero עם תמונה/רקע, פרטי נכס, רשימת יתרונות, טופס ליד "קבל/י פרטים נוספים")
- "איקומרס" (Hero מוצר, תיאור, גלריה, טופס הנחה)
- "קורסים/וובינר" (כותרת, טיימר בהמשך, טופס רישום)
*כל התוכן, הכפתורים והפלייסהולדרים בעברית וב-RTL.*

דוגמת תוכן בסיסית ל-Hero+Form (React-Page JSON):
const heroHebrew = {
  id: "hero-rtl",
  cells: [{
    id: "cell-1",
    content: {
      plugin: "slate",
      state: [{
        type: "headline-one",
        children: [{ text: "ברוכים הבאים ל-QuickLanding" }]
      },{
        type: "paragraph",
        children: [{ text: "בנה/י דף נחיתה מקצועי בעברית תוך דקות." }]
      }]
    }
  }]
};

const formHint = {
  id: "lead-form-hint",
  cells: [{
    id: "f1",
    content: {
      plugin: "slate",
      state: [{
        type: "paragraph",
        children: [{ text: "השאירו פרטים ונחזור אליכם בהקדם:" }]
      }]
    }
  }]
};

תבנה אוסף JSON מלא ומוכן לכל תבנית עם Slate + Image + Background.

=====================
עברית ו-RTL
=====================
- כל הטקסטים בממשק בעברית (labels, tooltips, הודעות)
- direction: rtl בקנבס של העורך ובדפי הדשבורד
- className שימושי: "rtl" לזיהוי סטיילינג (אם משתמשים ב-:dir(rtl) בטיילוינד או plugin)

=====================
ולידציה והקשחה
=====================
- בכל API: אימות עם Zod (שדות חובה: שם, טלפון; אימייל אופציונלי)
- סניטציה בסיסית ל-slug (המרה לעברית->לטינית, מקפים)
- בדוק בעלות משתמש לפני גישה/עדכון/מחיקה של דף
- Rate limit של /api/forms (IP+pageId) – 5 בקשות לדקה

=====================
תצוגת לידים
=====================
- בלשונית "לידים" בדף העריכה: טבלת לידים (שם, טלפון, אימייל, תאריך)
- אפשרות ייצוא CSV (בשרתי dev, פשוט JSON->CSV)

=====================
נראות ועיצוב
=====================
- Theme בהיר, צבעים ראשיים: סגול #6C63FF, אפור כהה לכותרות, רקע #F7F7FB
- גופן "Noto Sans Hebrew"
- כפתורים בולטים (primary) עם פינות מעוגלות ולייט-שדו
- header קבוע לדשבורד עם לוגו "QuickLanding"

=====================
בדיקות ידניות ותסריטי e2e (MVP)
=====================
- רישום/כניסה -> יצירת דף -> בחירת תבנית -> עריכה -> שמירה -> פרסום -> פתיחת /p/[slug] -> שליחת ליד -> בדיקת DB -> בדיקת webhook

=====================
Deliverables
=====================
1) שלד פרויקט רץ מקומית (npm run dev)
2) מסד נתונים Prisma + seed לתבניות
3) עמוד Login/Register עובד
4) דשבורד עם רשימת דפים + יצירת דף חדש מתבנית
5) עורך React-Page RTL עם שמירה ל-DB
6) דף ציבורי /p/[slug] שמציג את התוכן
7) API לטפסים ושילוח webhook
8) מסך לידים פר-דף
9) תיעוד README (איך מרימים לוקאלית, ENV, migrate, seed, גישת דמו)

=====================
הערות
=====================
- אין צורך בתשלום/גבייה בשלב זה (MVP). בהמשך נוסיף.
- שמור את הקוד נקי, עם טיפוסי TS והערות בעברית איפה שצריך.
